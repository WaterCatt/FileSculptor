# FileSculptor

**FileSculptor** ‚Äî —ç—Ç–æ –≥–∏–±–∫–∞—è Ruby-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∏ CLI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤. –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —Ç–∞–∫ –∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É—è —à–∞–±–ª–æ–Ω—ã, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–¥.

---

## üîß –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –ª–æ–≥–∏–∫–µ (Ruby-–±–ª–æ–∫).
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π (`recursive: true/false`).
- –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏–º–µ–Ω–∏, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –¥–∞—Ç—ã –∏ –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–ª–ª–∏–∑–∏–π –∏–º—ë–Ω (–µ—Å–ª–∏ —Ñ–∞–π–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç).
- –ñ—É—Ä–Ω–∞–ª –æ—à–∏–±–æ–∫ –∏ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π.
- –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –∏–∑ Ruby-—Å–∫—Ä–∏–ø—Ç–æ–≤, —Ç–∞–∫ –∏ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ (CLI).

---

## üñ• –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: CLI

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ CLI –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```
gem install file_sculptor

```

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```
file_sculptor rename ./downloads --recursive
```

```
file_sculptor organize ./photos --rule=date
```

```
file_sculptor organize ./misc --rule=extension --dry-run
```

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
* extension ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä .png ‚Üí Images/)

* first_letter ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–µ—Ä–≤–æ–π –±—É–∫–≤–µ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (cat.png ‚Üí C/)

* date ‚Äî –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è (photo.jpg ‚Üí 1.05/)

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —à–∞–±–ª–æ–Ω ‚Äî —á–µ—Ä–µ–∑ Ruby-—Ñ–∞–π–ª —Å –±–ª–æ–∫–æ–º –∫–æ–¥–∞.

```
file_sculptor organize ./docs --script organize_rule.rb
```

### –°–æ–¥–µ—Ä–∂–∏–º–æ–µ organize_rule.rb:

```ruby
Proc.new do |path|
  ext = File.extname(path).delete('.')
  first = File.basename(path)[0].upcase
  "Sorted/#{ext}/#{first}"
end
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–ø—Ü–∏–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

```ruby
FileSculptor.new("path/to/dir", recursive: true, dry_run: false, logger: true)
```

## üíª –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: API (Ruby) (–ø—Ä–∏–º–µ—Ä–Ω–æ–µ)

### –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ 

```ruby
require 'file_sculptor'

sculptor = FileSculptor.new("downloads", recursive: true)

sculptor.rename_files do |path|
  dirname = File.dirname(path)
  ext = File.extname(path)
  base = File.basename(path, ext)
  "#{dirname}/#{base.downcase.gsub(/\s+/, '_')}#{ext}"
end
```
### –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ —Ç–∏–ø—É

```ruby
sculptor.organize_files do |path|
  ext = File.extname(path).delete('.').capitalize
  "Organized/#{ext}"
end
```

### –ü—Ä–∏–º–µ—Ä: –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è

```ruby
sculptor.organize_files do |path|
  date = File.ctime(path).strftime("%-d.%m")
  "Images/#{date}"
end
```



## üõ° –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

* –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è.

* –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–≥–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞.

* –°–æ–∑–¥–∞–Ω–∏–µ —Ü–µ–ª–µ–≤—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π, –µ—Å–ª–∏ –æ–Ω–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç.

* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å "—Å—É—Ö–æ–≥–æ –∑–∞–ø—É—Å–∫–∞" (dry_run: true) –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.
